<?xml version="1.0" encoding="UTF-8"?>
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:ace="http://www.icefaces.org/icefaces/components"
                xmlns:ui="http://java.sun.com/jsf/facelets">

<ace:dialog id="orderAssignToDialog" header="#{i18n.orderAssignTo}"
            widgetVar="orderAssignToDialog" closable="true" modal="true"
            draggable="true" showEffect="clip" hideEffect="fade"
            minHeight="300" minWidth="400"
            resizable="true" rendered="#{orderMgmtBean.orderId > 0}">

    <h:panelGroup layout="block">
        <h:selectOneListbox id="orderAssigneeAccount" value="#{orderMgmtBean.order.assigneeAccount}" style="width:200px;height:150px;margin-bottom:15px;">
            <f:selectItems value="#{systemAccountMgmt.accountWithChildren.children}" var="account"
                           itemLabel="#{account.accountName} " itemValue="#{account.account}"/>
        </h:selectOneListbox>
    </h:panelGroup>

    <h:panelGroup layout="block">
        <h:commandButton id="assignOrderTo" value="#{i18n.ok}" action="#{orderMgmtBean.assignTo}">
            <f:ajax execute="orderAssigneeAccount" render="orderInfo formMetadataNenu orderAssignToDialog"/>
        </h:commandButton>
    </h:panelGroup>

    <h:panelGroup layout="block">
        <h:message for="assignOrderTo" style="color:red;" />
    </h:panelGroup>
</ace:dialog>
</ui:fragment>