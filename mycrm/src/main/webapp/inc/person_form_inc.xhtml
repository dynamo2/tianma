<?xml version="1.0" encoding="UTF-8"?>
<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<h:inputHidden id="personId" value="#{person.id}" rendered="#{person.id ne null}"/>

    <div class="form-header"><h:outputLabel value="#{i18n.personPanel}" /></div>
		<h:panelGrid columns="4" styleClass="form-table" columnClasses="td-label,td-input,td-label,td-input">
			<h:outputLabel value="#{i18n.firstName}" for="personFirstName" />
			<h:panelGroup>
				<h:inputText id="personFirstName" value="#{person.firstName}"
					readonly="#{editable eq 'false'}" required="true"
					requiredMessage="${i18n.validationRequired}">
					<f:validateRegex pattern="[^\s\p{Punct}]*" />
				</h:inputText>
				<br />
				<h:message for="personFirstName" style="color:red" />
			</h:panelGroup>
			
			<h:outputLabel value="#{i18n.lastName}" for="lastName" />
			<h:panelGroup>
				<h:inputText id="lastName" value="#{person.lastName}"
					readonly="#{editable eq 'false'}">
					<f:validateRegex pattern="[^\s\p{Punct}]*" />
				</h:inputText>
				<br />
				<h:message for="lastName" style="color:red" />
			</h:panelGroup>

			<h:outputLabel value="#{i18n.gender}" for="personGender" />
			<h:selectOneRadio id="personGender" value="#{person.gender}"
				readonly="#{editable eq 'false'}">
				<f:selectItems id="personGenderItems"
					value="#{selectionItems.genders}" />
			</h:selectOneRadio>

            <h:outputLabel value="#{i18n.email}" for="personEmail" />
            <h:panelGroup>
                <h:inputText id="personEmail" value="#{person.email}"
                             readonly="#{editable eq 'false'}">
                    <f:validateRegex pattern="[\w]+@[\w]+\.(com|cn|com\.cn)"/>
                </h:inputText>
                <br/>
                <h:message for="personEmail" style="color:red" />
            </h:panelGroup>

			<h:outputLabel value="#{i18n.phone}" for="personPhone" />
			<h:panelGroup>
				<h:inputText id="personPhone" value="#{person.phone}"
					readonly="#{editable eq 'false'}">
					<f:validateRegex pattern="([0-9]{3,4}\-[0-9]{6,8})|([0-9]{3,4}\-[0-9]{6,8}\-[0-9]{3,4})" />
				</h:inputText>
				<br/>
				<h:message for="personPhone" style="color:red" />
			</h:panelGroup>

			<h:outputLabel value="#{i18n.mobile}" for="personMobile" />
			<h:panelGroup>
				<h:inputText id="personMobile" value="#{person.mobile}"
					readonly="#{editable eq 'false'}">
						<f:validateRegex pattern="[0-9]{11,13}" />
				</h:inputText>
				<br/>
				<h:message for="personMobile" style="color:red" />
			</h:panelGroup>
			


			<c:if test="#{editable eq 'false'}">
				<h:outputLabel value="#{i18n.created}" for="personCreated" />
				<h:outputText id="personCreated" value="#{person.created}" />

				<h:outputLabel value="#{i18n.createdBy}" for="personCreatedBy" />
				<h:outputText id="personCreatedBy" value="#{person.createdBy}" />

				<h:outputLabel value="#{i18n.lastModified}" for="personLastModified" />
				<h:outputText id="personLastModified" value="#{person.lastModified}" />

				<h:outputLabel value="#{i18n.lastModifiedBy}"
					for="personLastModifiedBy" />
				<h:outputText id="personLastModifiedBy"
					value="#{person.lastModifiedBy}" />
			</c:if>
		</h:panelGrid>
</ui:fragment>