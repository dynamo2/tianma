<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/layout/main_template.xhtml">

	<ui:define name="main_block">
		<h:form id="systemAccountForm">
			<ace:dataTable id="systemAccountsList"
				value="#{systemAccountMgmt.allAccounts}" var="acct" paginator="true"
				paginatorPosition="bottom" rows="20">
				<ace:column headerText="#{i18n.name}">
					<h:outputText
						value="#{acct.person.lastName} #{acct.person.firstName}" />
				</ace:column>
				<ace:column headerText="#{i18n.gender}">
					<h:outputText value="#{acct.person.gender}" />
				</ace:column>
				<ace:column headerText="#{i18n.phone}">
					<h:outputText value="#{acct.person.phone}" />
				</ace:column>
				<ace:column headerText="#{i18n.mobile}">
					<h:outputText value="#{acct.person.mobile}" />
				</ace:column>
				<ace:column headerText="#{i18n.email}">
					<h:outputText value="#{acct.person.email}" />
				</ace:column>
				<ace:column headerText="#{i18n.account}">
					<h:outputText value="#{acct.account}" />
				</ace:column>
				<ace:column headerText="#{i18n.roles}">
					<ui:repeat var="role" value="#{acct.roleListInGUI}">
						<h:outputText value="#{role}" converter="tokenToLabelConverter" />
						<br />
					</ui:repeat>
				</ace:column>
				<ace:column headerText="#{i18n.agent}">
					<h:outputText value="#{acct.agentCompanyName}" />
				</ace:column>
				<ace:column>
					<h:link outcome="system_account_form.jsf?id=#{acct.id}"
						value="#{i18n.edit}" />
				</ace:column>
			</ace:dataTable>
		</h:form>
	</ui:define>

</ui:composition>